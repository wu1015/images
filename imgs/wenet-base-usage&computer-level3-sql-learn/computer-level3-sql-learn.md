---
title: 等考三级数据库学习记录_根据考纲导航（2023版考纲）
cover: https://shp.qpic.cn/collector/1015650207/76db783a-133d-4345-bea6-48a5bb7506f9/0
cover_h: https://shp.qpic.cn/collector/1015650207/76db783a-133d-4345-bea6-48a5bb7506f9/0
tags: [SQL]
date: 2024-08-15 15:33:56
time: 2024-08-15 15:33:56
categories: 笔记
sticky:
---
> [题库链接](https://frp-any.top:18514/Onedrive/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%AD%89%E7%BA%A7%E8%80%83%E8%AF%95/%E4%B8%89%E7%BA%A7/%E6%95%B0%E6%8D%AE%E5%BA%93)

## 数据库应用系统分析及规划
### 数据库应用系统生命周期
- 常见的全过程的软件生产与开发方法有：瀑布模型、快速原型模型、螺旋模型

#### 瀑布模型
```mermaid
flowchart LR;

项目规划-->
系统分析-->
总体设计-->详细设计-->
编码调试与集成测试-->运行维护;
```

#### 快速原型模型
```mermaid
flowchart LR;
快速分析-->设计构造模型-->运行原型-->评价原型-->改进原型;
```

#### 螺旋模型
```mermaid
flowchart LR;
项目规划-->风险评估-->工程实现-->原型n-->用户评估;
用户评估-->软件设计-->风险评估;
```

### 数据库开发方法与实现工具
#### 数据库设计
- 定义：指根据用户的需求，在某一具体的数据库管理系统上，设计数据库的结构和建立数据库的过程。
- 设计过程步骤：需求分析、概念设计、逻辑设计、物理设计、验证设计、运行和维护设计。

### 数据库应用体系结构

## 数据库设计及实现
### 概念设计
- 主要任务是理解和获取应用领域中的数据需求，分析、抽取、描述和表示清楚目标系统需要存储和管理什么数据，这些数据具有怎样的属性特征以及组成格式，数据之间有怎样的依赖关系。

- 概念设计的依据：需求分析整理的说明书以及需求建模
```mermaid
flowchart LR;
明确建模对象-->定义实体集-->定义联系-->建立信息模型-->确定实体属性-->对信息模型进行优化;
```

- 数据建模方法：ER模型、UML、IDEF1X

### 逻辑设计
- 数据库逻辑设计的任务就是把数据库概念设计的结果（ER模型）转化为具体的数据库管理系统支持的数据模型。

- 按照DBMS支持的数据模型来组织和存储数据，最后得到DBMS可处理的数据库模式，为物理设计打下基础。

#### 关系型数据库的三大范式
- 设计关系数据库时，遵从不同的规范要求，设计出合理的关系型数据库，这些不同的规范要求被称为不同的范式，各种范式呈递次规范，越高的范式数据库冗余越小。
 
- 目前关系数据库有六种范式：第一范式（1NF）、第二范式（2NF）、第三范式（3NF）、巴斯-科德范式（BCNF）、第四范式(4NF）和第五范式（5NF，又称完美范式）。满足最低要求的范式是第一范式（1NF）。在第一范式的基础上进一步满足更多规范要求的称为第二范式（2NF），其余范式以次类推。一般来说，数据库只需满足第三范式(3NF）就行了。

##### 第一范式（1NF）
- 所谓第一范式（1NF）是指在关系模型中，对于添加的一个规范要求，所有的域都应该是原子性的，即数据库表的每一列都是不可分割的原子数据项，而不能是集合，数组，记录等非原子数据项。即实体中的某个属性有多个值时，必须拆分为不同的属性。在符合第一范式（1NF）表中的每个域值只能是实体的一个属性或一个属性的一部分。简而言之，第一范式就是无重复的域。

##### 第二范式（2NF）
- 在1NF的基础上，非码属性必须完全依赖于候选码（在1NF基础上消除非主属性对主码的部分函数依赖）

- 第二范式（2NF）要求实体的属性完全依赖于主关键字。所谓完全依赖是指不能存在仅依赖主关键字一部分的属性，如果存在，那么这个属性和主关键字的这一部分应该分离出来形成一个新的实体，新实体与原实体之间是一对多的关系。为实现区分通常需要为表加上一个列，以存储各个实例的唯一标识。简而言之，第二范式就是在第一范式的基础上属性完全依赖于主键。

##### 第三范式（3NF）
- 在2NF基础上，任何非主属性不依赖于其它非主属性（在2NF基础上消除传递依赖）

##### 巴斯-科德范式（BCNF）（Boyce-Codd Normal Form）
- 在3NF基础上，任何非主属性不能对主键子集依赖（在3NF基础上消除对主码子集的依赖）

### 物理设计
- 概念设计和逻辑设计得到了规范化的关系模式，物理设计是将数据的逻辑描述转化为实现技术规范，其目标是设计数据存储方案，以便提供足够好的性能确保数据库数据的完整性、安全性、可恢复性。

- 逻辑设计只规定了逻辑结构，物理设计进一步考虑应用数据在实际数据库管理系统和操作系统平台下的具体存储结构和数据存取方式（也就是考虑数据库的物理结构）。

```mermaid
flowchart LR;
数据库逻辑模式描述-->文件组织与存取设计-->数据分布设计-->确定系统配置-->物理模式评估;
```

### 数据库应用系统的设计与实现
#### 需求分析
- 目标确定: 明确系统的目标和需求，了解用户的需求及其数据操作的具体要求。
- 功能需求: 确定系统必须实现的功能，例如数据录入、查询、更新、删除等操作。
- 非功能需求: 包括系统的性能要求、安全性要求、可扩展性等。
#### 需求分析的方法
- 结构化分析与功能建模主要方法有：DFD（数据流图）、IDEF0（活动模型）

##### 2.4.2.1 DFD（数据流图）（气泡图）
- DFD需求建模方法概念：从应用系统的数据流着手以图形方式刻画和表示一个具体业务中的数据处理过程和数据流，通过对业务流程的层层追踪和分析把要解决的问题清晰的展现以及描述出来。

- DFD的四种基本元素：数据流、处理、数据存储、外部项（也称为数据源或数据终点）。

- DFD图：自顶向下逐步细化的结构化分析方法表示目标系统。

##### 2.4.2.2 IDEF0（活动模型）
- 框图表示一种活动，是IDEF0最基本的元件，通常使用动词描述活动特性。箭头表示输入(INPUT)，控制(CONTROL)，输出(OUTPUT)，机制(MECHANISMS)，箭头用以连接系统中各活动，箭头通常是由名词描述。
    - 输入(Input)：实行或完成特定活动所需的资源，置于框图的左侧。 
    - 输出(Output)：经由活动处理或修正后的产出，置于框图的右侧。 
    - 控制(Control)：活动所需的条件限制，置于框图的上方。 
    - 机制(Mechanisms)：完成活动所需的工具，包括人员、设施及装备，置于框图的下方。 


## 三、数据库存储技术
### 3.1数据存储与文件结构
### 3.2 索引技术
- 数据库索引是一种超高效的查找表，可以让数据库更快地找到数据。

- 它保存索引列值以及指向表中相应行的指针。

- 如果没有索引，数据库可能必须扫描海量表中的每一行才能找到所需内容——这是一个非常缓慢的过程。

- 但是，有了索引，数据库就可以使用索引的指针精确地找到所需数据的准确位置。

- 最常用的索引数据结构是 B 树、哈希表和位图。

#### 3.2.1 索引技术的步骤
- 索引创建：数据库管理员在特定列或一组列上创建索引。

- 索引构建：数据库管理系统通过扫描表并存储索引列的值以及指向相应数据的指针来构建索引。

- 查询执行：执行查询时，数据库引擎会检查所请求的列是否存在索引。

- 索引搜索：如果存在索引，数据库将在索引中搜索所请求的数据，并使用指针快速定位数据。

- 数据检索：数据库使用索引中的指针检索请求的数据。

#### 3.2.2 索引技术的优势
- 更快的查询性能：索引可以通过减少需要扫描的数据量来显著提高查询性能，特别是对于大型数据集。

- 减少 CPU 使用率：通过减少需要扫描的行数，索引可以降低 CPU 使用率并优化资源利用率。

- 快速数据检索：索引可以对涉及索引列上的相等性或范围条件的查询进行快速数据检索。

- 高效排序：索引还可用于根据索引列对数据进行高效排序，从而无需昂贵的排序操作。

- 更好的数据组织：索引可以帮助维护数据组织和结构，使数据库更易于管理和维护。

#### 一些例子
- 创建索引的简化语法格式为：
```
CREATE [UNIQUE][CLUSTERED|NONCLUSTERED] INDEX index_name
ON <object>(column [ASC|DESC][,…n])

column：索引所基于的一个列或多个列。如果指定多个列名，则可为指定列的组合值创建组合索引。
唯一索引可以确保索引列不包含重复的值。在多列唯一索引的情况下，可以确保索引列中每个值的组合都是唯一的。
```

## 四、数据库编程技术
### 4.1 一些高级查询功能
#### 一些例子
- 设在SQL Server 2008某数据库中有商品表（商品号，商品名，类别，单价）和销售表（商品号，销售时间，销售数量）。现要查询2015年9月没有被卖出过的"手机"类商品的商品名和单价。
```
SELECT 商品名, 单价 FROM 商品表
WHERE 商品号 NOT IN (
SELECT 商品号 FROM 销售表
WHERE 销售时间 BETWEEN '2015/9/1' AND '2015/9/30'
AND 类别 = '手机')
AND 类别 = '手机'	
```

- 设有汽车销售表（汽车型号，销售时间，销售价格，销售数量），其中（汽车型号，销售时间）是主码。现要查询2015年销售总数量最多的汽车的汽车型号和销售总数量（包括并列情况）。
```
SELECT TOP 1 WITH TIES 汽车型号, SUM(销售数量) FROM  汽车销售表
WHERE 销售时间 BETWEEN '2015/1/1' AND '2015/12/31'
GROUP BY 汽车型号
ORDER BY SUM(销售数量) DESC	
```

- 设有员工表（员工号，姓名，工资，所在部门），其中"员工号"是主码。现要查询"基础部"工资最低的职工姓名和工资。
```
SELECT 姓名, 工资 FROM 员工表
WHERE 工资 IN (
SELECT MIN(工资、 FROM 员工表
WHERE 所在部门 = '基础部')
AND 所在部门 = '基础部'	
```

- 设有教师表（教师号，教师名，职称，性别），其中“教师号”是主键。现要查询具有“教授”职称的女教师人数，
```
SELECT COUNT(*) FROM教师表 WHERE 职称='教授' and 性别='女'	
```

- SQLServer中，在T1表上定义了一个由数据更改操作引发的后触发型触发器
```
CREATE TRIGGER tri_1
ON T1 FOR UPDATE
AS ……
```

- 创建了3个分区，区间分别是：<=100,[101,200],>200
```
CREATE PARTITION FUNCTION PFl(int)
AS RANGE LEFT FOR VALUES (100,200)
```

- 创建分区函数的sql语句是：
```
CREATE PARTITION FUNCTION partition_function_name(input_parameter_type)
AS RANGE [LEFT|RIGHT]
FOR VALUES([boundary_value[,…n]])
[;]
```

- 设有房屋表（房屋号，面积，月租金），其中“房屋号”是主键。现要查询面积在100-120平米的房屋中，月租金最便宜的房屋号和月租金。
```
SELECT TOP 1 WITH TIES 房屋号,月租金 FROM 房屋表
WHERE 面积 BETWEEN 100 AND 120
ORDER BY 月租金 ASC	
```

### 4.2存储过程
### 4.3触发器
### 4.4函数
### 4.5游标

## 五、事物管理
### 5.1并发控制技术
### 5.2备份和恢复数据库技术

## 六、数据库管理与维护
### 6.1数据完整性
### 6.2数据库安全性
### 6.3数据库可靠性
### 6.4监控分析
### 6.5参数调整
### 6.6查询优化
### 6.7空间管理

## 七、数据库技术的发展及新技术
### 7.1对象数据库
### 7.2数据仓库及数据挖掘
### 7.3XML数据库
### 7.4云计算数据库
### 7.5空间数据库
